<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>لوحة إدارة المزادات</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>لوحة إدارة المزادات</h1>
      <p>استخدم هذه الصفحة لإضافة وتعديل وحذف المزادات بكل سهولة.</p>
    </header>

    <main>
      <section class="card" aria-labelledby="auction-form-title">
        <h2 id="auction-form-title">نموذج المزاد</h2>
        <form id="auction-form" novalidate>
          <input type="hidden" id="auction-id" value="" />
          <input type="hidden" id="auction-image-path" value="" />
          <input type="hidden" id="auction-pdf-path" value="" />

          <div class="form-grid">
            <label>
              اسم المزاد
              <input id="auction-name" name="name" type="text" required />
            </label>
            <label>
              تاريخ البداية
              <input id="auction-start" name="start" type="datetime-local" required />
            </label>
            <label>
              تاريخ النهاية
              <input id="auction-end" name="end" type="datetime-local" required />
            </label>
            <label>
              رابط خارجي
              <input id="auction-url" name="url" type="url" placeholder="https://" />
            </label>
            <label>
              السعر الافتتاحي (اختياري)
              <input id="auction-price" name="openingPrice" type="number" step="0.01" min="0" />
            </label>
            <label>
              اسم الوسيط
              <input id="auction-agent" name="agentName" type="text" />
            </label>
            <label>
              الحي
              <input id="auction-district" name="district" type="text" />
            </label>
            <label>
              المدينة
              <input id="auction-city" name="city" type="text" />
            </label>
          </div>

          <label>
            وصف المزاد
            <textarea id="auction-content" name="content" rows="4" placeholder="تفاصيل المزاد"></textarea>
          </label>

          <label class="file-input">
            صورة المزاد
            <input id="auction-image" name="image" type="file" accept="image/*" />
          </label>

          <div class="form-actions">
            <button type="submit" id="submit-button">حفظ المزاد</button>
            <button type="button" id="cancel-edit" class="secondary" hidden>إلغاء التعديل</button>
          </div>
        </form>
        <p id="form-message" role="status" aria-live="polite"></p>
      </section>

      <section class="card" aria-labelledby="auction-list-title">
        <div class="list-header">
          <h2 id="auction-list-title">المزادات الحالية</h2>
          <button type="button" id="refresh-button" class="secondary">تحديث القائمة</button>
        </div>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>الاسم</th>
                <th>الفترة</th>
                <th>السعر الافتتاحي</th>
                <th>المدينة</th>
                <th>إجراءات</th>
              </tr>
            </thead>
            <tbody id="auction-rows">
              <tr>
                <td colspan="5" class="empty">لا توجد بيانات حتى الآن.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <template id="auction-row-template">
      <tr>
        <td class="name"></td>
        <td class="period"></td>
        <td class="price"></td>
        <td class="city"></td>
        <td class="actions">
          <button type="button" class="edit">تعديل</button>
          <button type="button" class="delete">حذف</button>
        </td>
      </tr>
    </template>

    <script src="app.js" type="module"></script>
  </body>
</html>
